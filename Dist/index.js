!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);var i=n.p+"img/94f7691bd246781e54cfe3dd246b5a7b.png";function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=new Image;o.src=i;var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.radius=50,this.vx=1,this.vy=5}var t,n,i;return t=e,(n=[{key:"drawCandy",value:function(){H.drawImage(o,this.x-.25*o.width/2,this.y-.25*o.height/2,.25*o.width,.25*o.height)}}])&&a(t.prototype,n),i&&a(t,i),e}(),s=n.p+"img/c53ebe5fd5dfd5e1aed2dc39d54a4616.png";function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=new Image;u.src=s;var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.radius=25,this.vx=0,this.vy=0,this.angle=0,this.color="hsl(".concat(this.getRandomNumber(0,360),", 100%, 50%)")}var t,n,i;return t=e,(n=[{key:"drawBug",value:function(){H.save(),H.translate(this.x,this.y),H.rotate(this.setRotationAngle()),H.translate(-this.x,-this.y),H.drawImage(u,this.x-.1*u.width/2,this.y-.1*u.height/2,.1*u.width,.1*u.height),H.restore()}},{key:"getRandomXBugPosition",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),this.x=Math.floor(Math.random()*(t-e))+e}},{key:"getRandomYBugPosition",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),this.y=Math.floor(Math.random()*(t-e))+e}},{key:"getRandomNumber",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}},{key:"setPosition",value:function(){this.getRandomNumber(0,1e4)%5!=0&&this.getRandomNumber(0,1e4)%3!=0&&this.getRandomNumber(0,1e4)%4!=0&&this.getRandomNumber(0,1e4)%2!=0&&this.getRandomNumber(0,1e4)%8!=0||(this.getRandomNumber(0,1e4)%2==0&&this.getRandomXBugPosition(0,q),this.getRandomNumber(0,1e4)%2!=0&&(this.y=_,this.getRandomXBugPosition(0,q))),this.getRandomNumber(0,1e4)%7>2&&this.getRandomNumber(0,1e4)%7!=0&&(this.x=0,this.getRandomYBugPosition(0,_)),this.getRandomNumber(0,1e4)%7<=2&&this.getRandomNumber(0,1e4)%7!=0&&(this.x=q,this.getRandomYBugPosition(0,_))}},{key:"moveOfBug",value:function(){this.x+=this.vx,this.y+=this.vy}},{key:"deleteBug",value:function(e,t,n){Math.sqrt(Math.pow(e-this.x,2)+Math.pow(t-this.y,2))<=this.radius+n&&(this.radius=0)}},{key:"setVelocityVector",value:function(e,t){var n=t-this.y,i=e-this.x,a=Math.abs(i/n);this.vy=3.5/Math.sqrt(Math.pow(a,2)+1),this.vx=this.vy*a,this.vx=i>0?this.vx:-this.vx,this.vy=n>0?this.vy:-this.vy}},{key:"setRotationAngle",value:function(){return this.vx>0&&this.vy>0&&(this.angle=180*Math.PI/180-Math.atan(Math.abs(this.vx/this.vy))),this.vx>0&&this.vy<0&&(this.angle=90*Math.PI/180-Math.abs(Math.atan(this.vy/this.vx))),this.vx<0&&this.vy>0&&(this.angle=270*Math.PI/180+Math.atan(this.vy/this.vx)),this.vx<0&&this.vy<0&&(this.angle=270*Math.PI/180+Math.abs(Math.atan(this.vy/this.vx))),this.angle}}])&&d(t.prototype,n),i&&d(t,i),e}(),c=n.p+"img/7906ce2d224cce6089e4154016326e52.png";function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var m=new Image;m.src=c;var v=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n}var t,n,i;return t=e,(n=[{key:"drawBlood",value:function(){H.drawImage(m,this.x-.1*m.width/2,this.y-.1*m.height/2,.1*m.width,.1*m.height)}},{key:"setX",value:function(e){return this.x=e}},{key:"setY",value:function(e){return this.y=e}}])&&h(t.prototype,n),i&&h(t,i),e}();function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var y,g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.points=0}var t,n,i;return t=e,(n=[{key:"countPoints",value:function(){return this.points++}},{key:"resetPoints",value:function(){return this.points=0}}])&&f(t.prototype,n),i&&f(t,i),e}();function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var L=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.levelNumber=t,this.time=n,this.ready=i}var t,n,i;return t=e,(n=[{key:"generateLevels",value:function(t){for(var n=[],i=1;i<=t;i++){var a=new e(i,10*i,!1);n.push(a)}return n}},{key:"setLevelTime",value:function(e){return this.time=e}},{key:"setLevelNumber",value:function(e){return this.levelNumber=e}},{key:"setLevelReady",value:function(e){return this.ready=e}},{key:"countLevelTime",value:function(){var e=this;return!(this.time>0)||(setInterval((function(){return e.time=--e.time}),1e3),this.time)}},{key:"countLevelTime",value:function(){var e=this;y=setInterval((function(){e.setLevelTime(--e.time)}),1e3)}},{key:"stopCountLevelTime",value:function(){clearInterval(y)}}])&&b(t.prototype,n),i&&b(t,i),e}();function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.health=t}var t,n,i;return t=e,(n=[{key:"healthReload",value:function(){this.health=100;var e=document.getElementById("health-level");return e.style.width="".concat(this.health,"%"),e.style.backgroundColor="#02e30e",this.health}},{key:"decreaseHealth",value:function(){var e=document.getElementById("health-level");return e.style.width="".concat(this.health,"%"),this.health>35?e.style.backgroundColor="#02e30e":e.style.backgroundColor="#f0051c",this.health=this.health-5}}])&&w(t.prototype,n),i&&w(t,i),e}(),E=document.getElementById("infobar"),I=document.getElementById("infobar2"),B=document.getElementById("container"),x=document.getElementById("buttons-container"),k=document.getElementById("buttons-container-middle-level"),M=document.getElementById("settings-container"),R=document.getElementById("credits-container"),P=document.getElementById("gameover-container"),N=document.getElementById("finish-container"),T=!1,O=!1,j=10;function C(){document.getElementById("try-again").addEventListener("mousedown",(function(){B.classList.remove("hide"),P.classList.add("hide")}))}function A(e){return O=e}function X(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"canvas",(function(){return S})),n.d(t,"ctx",(function(){return H})),n.d(t,"cw",(function(){return q})),n.d(t,"ch",(function(){return _}));var Y,S=document.querySelector("#draw"),H=S.getContext("2d"),q=S.width=window.innerWidth-5,_=S.height=window.innerHeight-55,V=new r(q/2,_/2),F=new g(0),U=new L(0,0,!1),D=new p(100),W=new v,z=0,G=[],J=[];function K(){return H.clearRect(0,0,q,_),V.drawCandy(),W.drawBlood(),G.forEach((function(e){e.drawBug(),e.moveOfBug(),W.setY(),W.setX()})),G.forEach((function(e){e.deleteBug(V.x,V.y,V.radius)})),G.forEach((function(e){0===e.radius&&(G.splice(G.indexOf(e),1),D.decreaseHealth())})),document.getElementById("level-number").innerHTML="".concat(U.levelNumber),document.getElementById("health").innerHTML="".concat(D.health),document.getElementById("points").innerHTML="".concat(F.points),document.getElementById("time-to-level-end").innerHTML="".concat(U.time),0===U.levelNumber&&!1===U.ready?(U.setLevelTime(J[z].time),void U.setLevelNumber(J[z].levelNumber)):U.time<=0&&!0===U.ready&&D.health>0?(U.setLevelReady(!1),U.stopCountLevelTime(),clearInterval(Y),G=[],W.setY(),W.setX(),z+=1,void(J.length>z?(U.setLevelTime(J[z].time),U.setLevelNumber(J[z].levelNumber),B.classList.add("hide"),k.classList.remove("hide"),T=!1):(U.stopCountLevelTime(),clearInterval(Y),G=[],z=0,U.setLevelTime(J[z].time),U.setLevelNumber(J[z].levelNumber),D.healthReload(),F.resetPoints(),B.classList.add("hide"),N.classList.remove("hide")))):D.health<=0&&!0===U.ready?(F.resetPoints(),U.stopCountLevelTime(),clearInterval(Y),G=[],z=0,U.setLevelTime(J[z].time),U.setLevelNumber(J[z].levelNumber),B.classList.add("hide"),P.classList.remove("hide"),D.healthReload(),void C()):void requestAnimationFrame(K)}function Q(e){G.forEach((function(t){t.deleteBug(e.offsetX,e.offsetY,40)})),G.forEach((function(t){0===t.radius&&(G.splice(G.indexOf(t),1),F.countPoints(),W.setX(e.offsetX),W.setY(e.offsetY))}))}function Z(){H.clearRect(0,0,q,_),V.drawCandy(),Y=setInterval((function(){for(var e=0;e<1;e++){var t=new l(0,0);t.setPosition(),t.setVelocityVector(V.x,V.y),G.push(t)}}),1300-100*U.levelNumber),U.countLevelTime(),requestAnimationFrame(K)}J=U.generateLevels(j),console.table(J);var $,ee=document.getElementById("next-level"),te=document.getElementById("start"),ne=document.getElementById("try-again"),ie=document.getElementById("try-again2");S.addEventListener("mousedown",Q),S.addEventListener("click",Q),ee.addEventListener("mousedown",(function(){U.setLevelReady(!0),!0===U.ready&&Z()})),te.addEventListener("mousedown",(function(){U.setLevelReady(!0),!0===U.ready&&Z()})),ne.addEventListener("mousedown",(function(){U.setLevelReady(!0),!0===U.ready&&Z()})),ie.addEventListener("mousedown",(function(){U.setLevelReady(!0),!0===U.ready&&Z()})),!1===T&&(document.getElementById("start").addEventListener("mousedown",(function(){E.classList.remove("hide"),I.classList.remove("hide"),B.classList.remove("hide"),x.classList.add("hide"),A(!0),T=!0})),document.getElementById("next-level").addEventListener("mousedown",(function(){B.classList.remove("hide"),k.classList.add("hide"),T=!0})),document.getElementById("settings").addEventListener("mousedown",(function(){M.classList.remove("hide"),x.classList.add("hide"),A(!1)})),document.getElementById("credits").addEventListener("mousedown",(function(){x.classList.add("hide"),R.classList.remove("hide")})),C(),document.getElementById("try-again2").addEventListener("mousedown",(function(){B.classList.remove("hide"),N.classList.add("hide")})),document.getElementById("back-to-main-menu").addEventListener("mousedown",(function(){E.classList.add("hide"),I.classList.add("hide"),x.classList.remove("hide"),R.classList.add("hide"),P.classList.add("hide")})),document.getElementById("back-to-main-menu2").addEventListener("mousedown",(function(){E.classList.add("hide"),I.classList.add("hide"),x.classList.remove("hide"),P.classList.add("hide")})),document.getElementById("back-to-main-menu3").addEventListener("mousedown",(function(){E.classList.add("hide"),I.classList.add("hide"),x.classList.remove("hide"),N.classList.add("hide")})),document.getElementById("save-settings").addEventListener("mousedown",(function(){document.getElementById("player-name").value,j=document.getElementById("number-of-levels").value,A(!0),M.classList.add("hide"),x.classList.remove("hide")}))),document.getElementById("save-settings").addEventListener("mousedown",(function(){!0===O&&(J=X(U.generateLevels(j)),console.table(J))})),($=document.createElement("script")).onload=function(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","UA-149871373-1")},$.src="https://www.googletagmanager.com/gtag/js?id=UA-149871373-1",document.head.appendChild($),requestAnimationFrame(K)},function(e,t){}]);
//# sourceMappingURL=index.js.map